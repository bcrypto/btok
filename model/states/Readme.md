# Statecharts
Данный модель содержит описание диаграмм состояний с помощью библиотеки [Sismic](https://sismic.readthedocs.io/en/latest/index.html).

### Описание состояний
Состояния были первоначально написаны на языке `Python` и содержатся в папку `statecharts`.
Результаты были выгруженны в `YAML` файлы, их можно ипользовать для дальнейшего расширения описаний, если нет знаний в языке `Python`. 
Эти файлы находятся в папке `results`. Примеры кода для экспорта в `PlantUML` и `YAML` находятся в файлу `exports.py`.

### Тестирование
Были написаны тест в двух видах. 

#### BDD (Разработка через поведение)
Данные тесты написаны с помощью языка `Gherkin`.
Они используют простой для чтения и понимания язык.
Они содержатся в папке `bdd-tests`, где `*.feature` файлы - это тесты, а `steps.py` - это файл для дополнительного соотношения некоторых шагов с более читаемыми. Подробнее можно найти на сайте [Sismic BDD](https://sismic.readthedocs.io/en/latest/behavior.html).    
Пример запуска данных тестов: `sismic-bdd statecharts/results/passwordBTOK.yml --features bdd-tests/passwords.feature`.

### Контрактные тесты
Тесты загружают состояние и запускают возможные события для активного состояния.
В описании состояний сущестует такой пункт, как `contract`, где описываются обязательные условия. 
Тесты выходят с ошибкой, если `contract` не выполняется или если прокинутая лямбда возвращает отказ.
Лямбда также должна проверять какие-то обязательные условия дл состояния.
Потеряет свой смысл и может быть удалена, когда во все состояния будут добавлены контракты.
Запуск данных тестов происходит через файл `test.py`.
