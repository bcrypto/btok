\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{_defs}

%%%%%%%%%%%  Format %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\doubt}[1]{{\textcolor{red}{#1}}}
\newcommand{\addendum}[1]{\textcolor{blue}{#1}}
\newcommand{\old}[1]{}

\newcommand\str[1]{\texttt{\textsf{'}#1\textsf{'}}\xspace}
\newcommand\btoi[1]{\ensuremath{\lfloor#1\rceil}}
\newcommand\itob[2][]{\ensuremath{\ifthenelse{\isempty{#1}{}}
	{\langle #1\rangle}{\langle #1\rangle_{#2}}}}

\newcommand{\optional}[1]{$\mathbf{\bigl[}$#1$\mathbf{\bigr]}$}
\newcommand{\mathoptional}[1]{\ensuremath{\mathbf{\bigl[}#1\mathbf{\bigr]}}}
\newcommand{\implicit}[1]{$\mathbf{\bigl\{}$#1$\mathbf{\bigr\}}$}
\newcommand{\mathimplicit}[1]{\ensuremath{\mathbf{\bigl\{}#1\mathbf{\bigr\}}}}

\newcommand\algname[1]{\texttt{#1}\xspace}
\newcommand\der{\texttt{der}\xspace}
\newcommand\len{\text{len}\xspace}
\newcommand\hex[1]{\ensuremath\texttt{#1}_{16}}

\newcommand{\hello}{\texttt{hello}\xspace}
\newcommand{\Cert}{\texttt{Cert}\xspace}
\newcommand{\Req}{\texttt{Req}\xspace}
\newcommand{\Chart}{\texttt{Chart}\xspace}
\newcommand{\Attr}{\texttt{Attr}\xspace}

\newcounter{defctr}
\setcounter{defctr}{0}
\renewcommand{\thedefctr}
{\addtocounter{defctr}{1}\thechapter.\arabic{defctr}}

%%%%%%%%%%% Local Commands %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% thanks: https://tex.stackexchange.com/questions/79657/
%%  how-to-get-double-angle-bracket-without-using-mnsymbol-package

\DeclareFontFamily{OMX}{MnSymbolE}{}
\DeclareSymbolFont{MnLargeSymbols}{OMX}{MnSymbolE}{m}{n}
\SetSymbolFont{MnLargeSymbols}{bold}{OMX}{MnSymbolE}{b}{n}
\DeclareFontShape{OMX}{MnSymbolE}{m}{n}{
    <-6>  MnSymbolE5
   <6-7>  MnSymbolE6
   <7-8>  MnSymbolE7
   <8-9>  MnSymbolE8
   <9-10> MnSymbolE9
  <10-12> MnSymbolE10
  <12->   MnSymbolE12
}{}
\DeclareFontShape{OMX}{MnSymbolE}{b}{n}{
    <-6>  MnSymbolE-Bold5
   <6-7>  MnSymbolE-Bold6
   <7-8>  MnSymbolE-Bold7
   <8-9>  MnSymbolE-Bold8
   <9-10> MnSymbolE-Bold9
  <10-12> MnSymbolE-Bold10
  <12->   MnSymbolE-Bold12
}{}

\let\llangle\@undefined
\let\rrangle\@undefined
\DeclareMathDelimiter{\llangle}{\mathopen}%
                     {MnLargeSymbols}{'164}{MnLargeSymbols}{'164}
\DeclareMathDelimiter{\rrangle}{\mathclose}%
                     {MnLargeSymbols}{'171}{MnLargeSymbols}{'171}

%%%%%%%%%%% Local Commands %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\providecommand{\ShLo}{\mathop{\texttt{ShLo}}\nolimits}
\providecommand{\ShHi}{\mathop{\texttt{ShHi}}\nolimits}
\providecommand{\RotHi}{\mathop{\texttt{RotHi}}\nolimits}
\providecommand{\Lo}{\mathop{\texttt{Lo}}\nolimits}

\providecommand{\ZZ}{\mathbb{Z}}
\providecommand{\FF}{\mathbb{F}}

%%%%%%%%%%%%%%%%%%%%%%%% Renew %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\renewcommand{\le}{\leqslant}
\renewcommand{\leq}{\leqslant}
\renewcommand{\ge}{\geqslant}
\renewcommand{\geq}{\geqslant}
\providecommand{\No}{\textnumero}

%%%%%%%%%%% Environments %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcounter{note}[subsubsection]

\newenvironment{note*}{
  \def\thenotename{Примечание~---~}
  \list{}{\vskip3pt
    \labelwidth=0pt\topsep=0pt\partopsep=0pt\parskip=0pt\parsep=0pt
    \itemsep=0pt\itemindent=0pt\leftmargin=\parindent
    \labelsep=0pt\small\item[\thenotename]}
}{\vskip3pt\endlist}

\newenvironment{note}{
  \def\thenotename{Примечание~\@arabic\c@note~---~}
  \list{}{\vskip3pt
   \labelwidth=0pt\topsep=0pt\partopsep=0pt\parskip=0pt\parsep=0pt
   \itemsep=0pt\itemindent=0pt\leftmargin=\parindent
    \refstepcounter{note}
    \labelsep=0pt\small\item[\thenotename]}
}{\vskip3pt\endlist}

\newenvironment{notes}{
  \def\thenotename{Примечания}
  \list{}{\vskip3pt
    \labelwidth=0pt\topsep=0pt\partopsep=0pt\parskip=0pt\parsep=0pt
    \itemsep=0pt\itemindent=0pt\leftmargin=\parindent
    \labelsep=0pt\small\item[\thenotename]}\mbox{}\par
}{\vskip3pt\endlist}

\newcounter{example}[subsubsection]

\newenvironment{example*}{
 \def\theexamplename{Пример~---~}
  \list{}{\vskip3pt
    \labelwidth=0pt\topsep=0pt\partopsep=0pt\parskip=0pt\parsep=0pt
    \itemsep=0pt\itemindent=0pt\leftmargin=\parindent
    \labelsep=0pt\small\bf\itshape\item[\theexamplename]}
}{\vskip3pt\endlist}

\newenvironment{example}{
  \def\theexamplename{Пример~\@arabic\c@example~---~}
  \list{}{\vskip3pt
    \labelwidth=0pt\topsep=0pt\partopsep=0pt\parskip=0pt\parsep=0pt
    \itemsep=0pt\itemindent=0pt\leftmargin=\parindent
    \refstepcounter{example}
    \labelsep=0pt\small\bf\itshape\item[\theexamplename]}
}{\vskip3pt\endlist}

\newenvironment{examples}{
  \def\theexamplename{Примеры}
  \list{}{\vskip3pt
    \labelwidth=0pt\topsep=0pt\partopsep=0pt\parskip=0pt\parsep=0pt
    \itemsep=0pt\itemindent=0pt\leftmargin=\parindent
    \refstepcounter{example}
    \labelsep=0pt\small\bf\itshape\item[\theexamplename]}\mbox{}\par
}{\vskip3pt\endlist}

%%%%%%%%%%%%%%%%%%%%%%%% Appendix %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\def\apprefix{}
\newenvironment{appendix}[3]
{
  \clearpage
  \chapter*{\mbox{}\hfillПриложение~#1\hfill\mbox{}}%
  \vskip-10pt
  {\centering
    {\bf (#2)}\par
    {\large\bf #3}\par
  }
  \def\@currentlabel{#1}
  \def\apprefix{#1.}
  \def\thechapter{#1}
  \setcounter{table}{0}
  \setcounter{section}{0}
  \addcontentsline{toc}{chapter}{Приложение~#1~(#2)~#3}
}
{
  \def\apprefix{}
  \def\thechapter{\@arabic\c@chapter}
}

%%%%%%%%%%%%%%%%%%%%%%%% Local %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\addto\captionsrussian{%
  \renewcommand{\figurename}{Рисунок}
  \renewcommand\tablename{Таблица}
  \renewcommand\contentsname{Содержание}
  \renewcommand{\bibname}{Библиография}
}

%%
%%
\endinput
